---
/**
 * TableWrapper - Wraps tables for responsive horizontal scrolling
 * Auto-injected via client-side script for all tables in .content
 *
 * Features:
 * - Automatic wrapper injection
 * - Prevents double-wrapping with guard check
 */
---

<script>
  function init() {
    document
      .querySelectorAll<HTMLTableElement>(".content table")
      .forEach((table) => {
        if (table.parentElement?.classList.contains("table-wrapper")) return;
        if (!table.parentNode) return;

        const wrapper = document.createElement("div");
        wrapper.className = "table-wrapper";
        table.parentNode.insertBefore(wrapper, table);
        wrapper.appendChild(table);
      });
  }

  document.addEventListener("astro:page-load", init);
</script>
