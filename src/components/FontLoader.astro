---
/**
 * FontLoader - Font loading state management
 * Removes fonts-loading class once all fonts are ready,
 * preventing FOUT (Flash of Unstyled Text).
 */
---

<script is:inline>
  (function () {
    function markFontsLoaded() {
      document.body.classList.remove("fonts-loading");
      document.body.classList.add("fonts-loaded");
    }

    if (document.fonts?.ready) {
      document.fonts.ready.then(markFontsLoaded);
    } else {
      markFontsLoaded();
    }

    document.addEventListener("astro:page-load", function () {
      document.fonts?.ready?.then(markFontsLoaded);
    });
  })();
</script>
