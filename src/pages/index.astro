---
/**
 * Home Page - Unified feed of blog posts and apps
 */

import Layout from "../layouts/Layout.astro";
import "../styles/home.css";

import ExplorerAnimation from "../components/ExplorerAnimation/ExplorerAnimation.astro";
import PageHeader from "../components/PageHeader.astro";
import EntryCard from "../components/EntryCard.astro";
import WebSiteSchema from "../components/WebSiteSchema.astro";
import { getFeedItems } from "../utils/content";

const feedItems = await getFeedItems();
---

<Layout title="Home">
  <WebSiteSchema />
  <PageHeader />
  <blockquote class="bio-quote">
    <p>"True delight is in the finding out rather than in the knowing."</p>
    <cite>Isaac Asimov</cite>
  </blockquote>
  <main id="main-content" class="home-main">
    {feedItems.length > 0 ? (
      <section class="archive">
        <ul class="post-list">
          {feedItems.map((item) => (
            <EntryCard entry={item.entry} />
          ))}
        </ul>
      </section>
    ) : (
      <p class="empty-state">Nothing here yet.</p>
    )}
    <ExplorerAnimation />
  </main>
</Layout>
